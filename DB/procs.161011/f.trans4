COMMIT WORK;
SET AUTODDL OFF;
SET TERM ^ ;


CREATE OR ALTER TRIGGER ADD_TRANS4_SOURCE FOR TRANSACTIONS4
BEFORE INSERT POSITION 0
AS
BEGIN
   IF (NEW.TRN_CLASS = 'C') THEN
   BEGIN
      NEW.INPUT_SOURCE = NEW.INPUT_SOURCE || 'ss';
   END
   IF (NEW.RECORD_ID IS NULL) THEN
   BEGIN
      NEW.RECORD_ID = GEN_ID(TRANSACTION_ID, 1);    
   END
END^



SET TERM ; ^
COMMIT WORK;
SET AUTODDL ON;
