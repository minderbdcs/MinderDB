
CREATE TABLE PACK_SSCC  (RECORD_ID RECORD_ID NOT NULL,
PS_PICK_ORDER PICK_ORDER ,
PS_PICK_ORDER_LINE_NO PICK_ORDER_LINE_NO,
PS_PICK_LABEL_NO PICK_LABEL_NO ,
PS_DESPATCH_ID DESPATCH_ID ,
PS_SSCC SSCC_ID ,
PS_SSCC_STATUS CODE_TWO ,
PS_PICK_ORDER_DATE DATE_YYYYMMDD,
PS_SCHED_DEL_DATE DATE_YYYYMMDD ,
PS_SCHED_DEL_TIME TIME_HH_MM ,
PS_AWB_CONSIGNMENT_NO AWB_CONSIGNMENT_NO ,
PS_CARRIER_ID SHIP_VIA ,
PS_EDI_ASN ASN_NO ,
PS_DESPATCHED_DATE DATE_YYYYMMDD ,
PS_ORDER_TYPE_CODE CODE_THREE ,
PS_ORDER_TYPE_DESC ORDER_DESC ,
PS_PO_PURPOSE_CODE CODE_TWO ,
PS_PO_PURPOSE_DESC ORDER_DESC ,
PS_PO_SUBSET_NO CODE_THREE ,
PS_PO_NO_SUBSET_NO ORDER_DESC ,
PS_CUSTOMER_EDI_NO EDI_NO ,
PS_CUSTOMER_IN_HOUSE_NO EDI_NO ,
PS_ASN_VENDOR_NO EDI_NO ,
PS_VENDOR_EDI_NO EDI_NO ,
PS_VENDOR_IN_HOUSE_NO EDI_NO ,
PS_DEL_TO_DC_NO EDI_LOCN_NO ,
PS_DEL_TO_DC_IN_HOUSE_NO EDI_LOCN_NO ,
PS_DEL_TO_STORE_NO EDI_LOCN_NO ,
PS_DEL_TO_STORE_IN_HOUSE_NO EDI_LOCN_NO ,
PS_BILL_TO_PARTNER_NO EDI_LOCN_NO ,
PS_BILL_TO_PARTNER_IN_HOUSE_NO EDI_LOCN_NO ,
PS_CLASS_GROUP_DESC ORDER_DESC ,
PS_ADVERT_DATE_QLF CODE_THREE ,
PS_ADVERTISED_DATE DATE_DDMM ,
PS_CANCEL_AFTER_DATE DATE_YYYYMMDD ,
PS_PRODUCT_QUALIFIER CODE_TWO ,
PS_PRODUCT_CODE PRODUCT  ,
PS_PRODUCT_GTIN PRODUCT  ,
PS_PRODUCT_DESC CODE ,
PS_QTY_ORDERED QTY ,
PS_QTY_SHIPPED QTY ,
PS_ORDERED_UOM CODE_TWO ,
PS_SALE_PRICE_CODE CODE_TWO ,
PS_SALE_PRICE UNIT_PRICE ,
PS_SALE_IN_HOUSE_PRICE UNIT_PRICE ,
PS_SALE_PRICE_VARIANCE UNIT_PRICE ,
PS_LINE_COST UNIT_PRICE ,
PS_SALE_RETAIL_PRICE UNIT_PRICE ,
PS_POS_KEY_CODE CODE ,
PS_TOTAL_ORDER_AMOUNT UNIT_PRICE ,
PS_TOTAL_ORDER_QTY QTY ,
PS_ORDERED_BY_UOM_GTIN QTY ,
PS_ORDERED_BY_GTIN CODE ,
PS_USE_BY_DATE DATE_YYYYMMDD ,
PS_BATCH_NO BATCH ,
PS_SSCC_WEIGHT WEIGHT_DECIMAL3 ,
PS_SSCC_WEIGHT_UOM UOM ,
PS_SSCC_DIM_X DIM_DECIMAL3 ,
PS_SSCC_DIM_Y DIM_DECIMAL3 ,
PS_SSCC_DIM_Z DIM_DECIMAL3 ,
PS_SSCC_DIM_UOM UOM ,
PS_SSCC_CUBIC VOLUME ,
PS_SSCC_VOL_UOM UOM ,
PS_TOTAL_OUTERS QTY ,
PS_OUTER_BARCODE GTIN14 ,
PS_INNERS_PER_OUTER QTY ,
PS_ISSUES_PER_INNER QTY ,
PS_STORE_DEPT_NO EDI_LOCN_NO ,
PS_OTHER1 CODE ,
PS_OTHER2 CODE ,
PS_LABEL_PRINTED_DATE LABEL_DATE ,
PS_CREATE_DATE CREATE_DATE ,
PS_CREATED_BY USER_ID ,
PS_LAST_UPDATE_DATE CREATE_DATE ,
PS_LAST_UPDATE_BY USER_ID ,
PRIMARY KEY (RECORD_ID));

GRANT SELECT ON PACK_SSCC     TO USER LEGACY;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON PACK_SSCC     TO USER MINDER;

CREATE GENERATOR PACK_SSCC_ID_GEN;

CREATE INDEX PACK_SSC_ORDER_IDX ON PACK_SSCC (PS_PICK_ORDER, PS_PICK_LABEL_NO);

COMMIT WORK;
SET AUTODDL OFF;
SET TERM ^ ;

CREATE TRIGGER ADD_PACK_SSCC FOR PACK_SSCC 
ACTIVE BEFORE INSERT POSITION 10 
AS
BEGIN
   IF ((NEW.RECORD_ID IS NULL) OR (NEW.RECORD_ID = 0)) THEN
   BEGIN
      NEW.RECORD_ID  = GEN_ID(PACK_SSCC_ID_GEN,1);
   END
   NEW.PS_LAST_UPDATE_DATE = 'NOW';
END ^

CREATE TRIGGER UPD_PACK_SSCC FOR PACK_SSCC 
ACTIVE BEFORE UPDATE POSITION 10 
AS
BEGIN
   IF ((NEW.RECORD_ID IS NULL) OR (NEW.RECORD_ID = 0)) THEN
   BEGIN
      NEW.RECORD_ID  = GEN_ID(PACK_SSCC_ID_GEN,1);
   END
   NEW.PS_LAST_UPDATE_DATE = 'NOW';
END ^

SET TERM ; ^
COMMIT WORK;
SET AUTODDL ON;
