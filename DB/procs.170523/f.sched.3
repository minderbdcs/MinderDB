/*
ADD DOMAIN RUN_HOUR  AS INTEGER CHECK (VALUE BETWEEN 0 AND 23) ;
add domain RUN_DAY  AS INTEGER CHECK (VALUE BETWEEN 1 AND 31) ;
*/
CREATE DOMAIN RUN_HOUR  AS INTEGER CHECK (VALUE BETWEEN 0 AND 23) ;
CREATE domain RUN_DAY  AS INTEGER CHECK (VALUE BETWEEN 1 AND 31) ;

alter table REPORTS_SCHEDULE add  REPS_RUN_HOUR RUN_HOUR;
alter table REPORTS_SCHEDULE add  REPS_RUN_DAY  RUN_DAY ;

COMMIT WORK;
SET AUTODDL OFF;
SET TERM ^ ;

CREATE OR ALTER TRIGGER MOD_REPORTS_SCHEDULE FOR REPORTS_SCHEDULE
ACTIVE BEFORE UPDATE POSITION 10 
AS
BEGIN
   NEW.REPS_LAST_UPDATED = 'NOW';
END ^


SET TERM ; ^
COMMIT WORK;
SET AUTODDL ON;
