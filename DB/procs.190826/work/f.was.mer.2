433:DECLARE EXTERNAL FUNCTION MER_DAY
436:ENTRY_POINT 'fudlib_mer_day' MODULE_NAME 'fudlib';
438:DECLARE EXTERNAL FUNCTION MER_HOUR
441:ENTRY_POINT 'fudlib_mer_hour' MODULE_NAME 'fudlib';
443:DECLARE EXTERNAL FUNCTION MER_MINUTE
446:ENTRY_POINT 'fudlib_mer_minute' MODULE_NAME 'fudlib';
448:DECLARE EXTERNAL FUNCTION MER_MONTH
451:ENTRY_POINT 'fudlib_mer_month' MODULE_NAME 'fudlib';
453:DECLARE EXTERNAL FUNCTION MER_YEAR
456:ENTRY_POINT 'fudlib_mer_year' MODULE_NAME 'fudlib';

8587:CREATE VIEW ONSITE_SAFETY_EXPIRY (BARCODE, DESCRIPTION, WH, LOCATION_ID, INTO_DATE, LOCATION_NAME, SAFETY_CHECK, SAFETY_DATE, SAFETY_PERIOD, SAFETY_PER_NO, SAFETY_DAYS, SAFETY_EXPIRY_DATE, CALIBRATE_CHECK, CALIBRATE_DATE, CALIBRATE_PERIOD, CALIBRATE_PER_NO, CALIBRATE_DAYS, CALIBRATE_EXPIRY_DATE, SSN_TYPE, SAFETY_PASS, CALIBRATE_PASS) AS
8604:     THEN MAKEDATE(MER_YEAR(SSN.LOAN_LAST_SAFETY_CHECK_DATE),MER_MONTH(SSN.LOAN_LAST_SAFETY_CHECK_DATE),MER_DAY(SSN.LOAN_LAST_SAFETY_CHECK_DATE) + SSN.LOAN_SAFETY_PERIOD_NO * LSD.CODE , 0, 0, 0) 
8613:     THEN MAKEDATE(MER_YEAR(SSN.LOAN_LAST_CALIBRATE_CHECK_DATE),MER_MONTH(SSN.LOAN_LAST_CALIBRATE_CHECK_DATE),MER_DAY(SSN.LOAN_LAST_CALIBRATE_CHECK_DATE) + SSN.LOAN_CALIBRATE_PERIOD_NO * LCD.CODE , 0, 0, 0) 

16584:ALTER PROCEDURE ADD_SSN_ISSN_GRCI (WH_ID VARCHAR(2) CHARACTER SET NONE,
17576:      WK_DATE = MER_DAY(TRANS_DATE) || '/' || MER_MONTH(TRANS_DATE) || '/' || SUBSTR(CAST(MER_YEAR(TRANS_DATE) AS CHAR(4)) , 3,4);
17577:      WK_TIME = MER_HOUR(TRANS_DATE) || ':' || MER_MINUTE(TRANS_DATE) ;
18133:ALTER PROCEDURE ADD_SSN_ISSN_GRNV (WH_ID VARCHAR(2) CHARACTER SET NONE,
19416:      WK_DATE = MER_DAY(TRANS_DATE) || '/' || MER_MONTH(TRANS_DATE) || '/' || SUBSTR(CAST(MER_YEAR(TRANS_DATE) AS CHAR(4)) , 3,4);
19417:      WK_TIME = MER_HOUR(TRANS_DATE) || ':' || MER_MINUTE(TRANS_DATE) ;
19776:ALTER PROCEDURE ADD_SSN_ISSN_GRNV_SET (WH_ID VARCHAR(2) CHARACTER SET NONE,
20065:   WK_DATE = MER_DAY(TRANS_DATE) || '/' || MER_MONTH(TRANS_DATE) || '/' || SUBSTR(CAST(MER_YEAR(TRANS_DATE) AS CHAR(4)) , 3,4);
20066:   WK_TIME = MER_HOUR(TRANS_DATE) || ':' || MER_MINUTE(TRANS_DATE) ;
21046:ALTER PROCEDURE ADD_SSN_ISSN_GRNV_WEIGHT (WH_ID VARCHAR(2) CHARACTER SET NONE,
21742:      WK_DATE = MER_DAY(TRANS_DATE) || '/' || MER_MONTH(TRANS_DATE) || '/' || SUBSTR(CAST(MER_YEAR(TRANS_DATE) AS CHAR(4)) , 3,4);
21743:      WK_TIME = MER_HOUR(TRANS_DATE) || ':' || MER_MINUTE(TRANS_DATE) ;
23367:ALTER PROCEDURE CANCEL_SALE_ORDER (PICK_ORDER PICK_ORDER,
23776:          WK_T4_TRAN_DATA = WK_T4_TRAN_DATA || '<UpdateDateTime>' || MER_YEAR('NOW') || '-' || LPAD(MER_MONTH('NOW'),'0',2) || '-' || LPAD(MER_DAY('NOW'),'0',2) || 'T' || LPAD(MER_HOUR('NOW'),'0',2) || ':' || LPAD(MER_MINUTE('NOW'),'0',2) || ':' || LPAD(SEC('NOW'),'0',2) || WK_T4_DELIM ;

24888:ALTER PROCEDURE EXPORT_CANCEL_ORDER (ORDER_ID PICK_ORDER)
24927:      WK_DATE = LPAD(MER_DAY(TRN_DATE),'0',2) || LPAD(MER_MONTH(TRN_DATE),'0',2) || SUBSTR(CAST(MER_YEAR(TRN_DATE) AS CHAR(4)) , 3,4);
24928:      WK_DATE2 = CAST(MER_YEAR(TRN_DATE) AS CHAR(4)) || LPAD(MER_MONTH(TRN_DATE),'0',2) || LPAD(MER_DAY(TRN_DATE),'0',2) || LPAD(MER_HOUR(TRN_DATE),'0',2) || LPAD(MER_MINUTE(TRN_DATE),'0',2) || LPAD(SEC(TRN_DATE),'0',2) ; 

25325:ALTER PROCEDURE EXPORT_PUTAWAY (PUTAWAY_ID SSN_ID)
25355:      WK_DATE = LPAD(MER_DAY(TRN_DATE),'0',2) || LPAD(MER_MONTH(TRN_DATE),'0',2) || SUBSTR(CAST(MER_YEAR(TRN_DATE) AS CHAR(4)) , 3,4);

28663:ALTER PROCEDURE GRN_CHANGE_PRODUCT_ID (OLD_GRN GRN,
29087:         WK_T4_TRAN_DATA = WK_T4_TRAN_DATA || '<UpdateDateTime>' || MER_YEAR('NOW') || '-' || LPAD(MER_MONTH('NOW'),'0',2) || '-' || LPAD(MER_DAY('NOW'),'0',2) || 'T' || LPAD(MER_HOUR('NOW'),'0',2) || ':' || LPAD(MER_MINUTE('NOW'),'0',2) || ':' || LPAD(SEC('NOW'),'0',2) || WK_T4_DELIM ;

32224:ALTER PROCEDURE PC_DSDX (RECORD_ID RECORD_ID,
32868:                    WK_T4_TRAN_DATA = WK_T4_TRAN_DATA || '<UpdateDateTime>' || MER_YEAR('NOW') || '-' || LPAD(MER_MONTH('NOW'),'0',2) || '-' || LPAD(MER_DAY('NOW'),'0',2) || 'T' || LPAD(MER_HOUR('NOW'),'0',2) || ':' || LPAD(MER_MINUTE('NOW'),'0',2) || ':' || LPAD(SEC('NOW'),'0',2) || WK_T4_DELIM ;

33472:ALTER PROCEDURE PC_EXPORT_DESPATCH (WK_DESPATCH_ID INTEGER,
33559:      WK_TRAN_DATE = MER_YEAR('NOW') || LPAD(MER_MONTH('NOW'),'0',2) || LPAD(MER_DAY('NOW'),'0',2) || 'T' || LPAD(MER_HOUR('NOW'),'0',2) || LPAD(MER_MINUTE('NOW'),'0',2) ;
33616:      WK_TRAN_DATE2 =  LPAD(MER_DAY('NOW'),'0',2) || ' ' || SUBSTR(MONTH_OF_YEAR('NOW'),1,3) || ' ' || MER_YEAR('NOW') ||  ' ' || LPAD(MER_HOUR('NOW'),'0',2) || ':' || LPAD(MER_MINUTE('NOW'),'0',2) || ':' || LPAD(SEC('NOW'), '0', 2) ;
33618:      WK_TRAN_DATE = MER_YEAR('NOW') || LPAD(MER_MONTH('NOW'),'0',2) || LPAD(MER_DAY('NOW'),'0',2) || 'T' || LPAD(MER_HOUR('NOW'),'0',2) || LPAD(MER_MINUTE('NOW'),'0',2) ;

34698:ALTER PROCEDURE PC_LABEL_DESPATCH (WK_ORDER PICK_ORDER,
34724:  WK_TRAN_DATE = MER_YEAR('NOW') || LPAD(MER_MONTH('NOW'),'0',2) || LPAD(MER_DAY('NOW'),'0',2) || 'T' || LPAD(MER_HOUR('NOW'),'0',2) || LPAD(MER_MINUTE('NOW'),'0',2) ;

35825:ALTER PROCEDURE PC_LABEL_PRODUCT (REFERENCE VARCHAR(40) CHARACTER SET NONE)
35872:  WK_DATE = MER_DAY(tLabelDate) || '/' || MER_MONTH(tLabelDate) || '/' || SUBSTR(CAST(MER_YEAR(tLabelDate) AS CHAR(4)) , 3,4);
35873:  WK_TIME = MER_HOUR(tLabelDate) || ':' || MER_MINUTE(tLabelDate) ;

53852:ALTER PROCEDURE RPT_SAFETY_CALIBRATION_EXPIRY (WK_DAYS INTEGER)
53881:   WK_TEST_DATE = MAKEDATE(MER_YEAR('TODAY'), MER_MONTH('TODAY'), MER_DAY('TODAY') + WK_DAYS, 0, 0, 0);
53951:               WK_CALIBRATE_EXPIRY_DATE = MAKEDATE(MER_YEAR(SN_LAST_CALIBRATE_CHECK_DATE), MER_MONTH(SN_LAST_CALIBRATE_CHECK_DATE), MER_DAY(SN_LAST_CALIBRATE_CHECK_DATE) + WK_CALIBRATE_PERIOD_DAYS, 0, 0, 0);
53982:               WK_SAFETY_EXPIRY_DATE = MAKEDATE(MER_YEAR(SN_LAST_SAFETY_CHECK_DATE), MER_MONTH(SN_LAST_SAFETY_CHECK_DATE), MER_DAY(SN_LAST_SAFETY_CHECK_DATE) + WK_SAFETY_PERIOD_DAYS, 0, 0, 0);

54064:ALTER PROCEDURE SEND_PICKABLE_STOCK (PROD_ID PRODUCT,
54155:            WK_T4_TRAN_DATA = WK_T4_TRAN_DATA || '<UpdateDateTime>' || MER_YEAR(TRN_DATE) || '-' || LPAD(MER_MONTH(TRN_DATE),'0',2) || '-' || LPAD(MER_DAY(TRN_DATE),'0',2) || 'T' || LPAD(MER_HOUR(TRN_DATE),'0',2) || ':' || LPAD(MER_MINUTE(TRN_DATE),'0',2) || ':' || LPAD(SEC(TRN_DATE),'0',2) || WK_T4_DELIM ;

62772:CREATE TRIGGER ADD_WIP_ORDER_ORDERING FOR PICK_ORDER 
62805:            WK_DATE = CAST(MER_YEAR(TRANS_DATE) AS CHAR(4)) || RTRIM(PADLEFT(MER_MONTH(TRANS_DATE),2)) || RTRIM(PADLEFT(MER_DAY(TRANS_DATE),2)) ;
62806:            WK_TIME = RTRIM(PADLEFT(MER_HOUR(TRANS_DATE),2)) || RTRIM(PADLEFT(MER_MINUTE(TRANS_DATE),2)) ; 
62808:            WK_DATE = MER_YEAR(TRANS_DATE)  || LPAD(MER_MONTH(TRANS_DATE),'0',2) || LPAD(MER_DAY(TRANS_DATE),'0',2) ;
62809:            WK_TIME = LPAD(MER_HOUR(TRANS_DATE),'0',2) || LPAD(MER_MINUTE(TRANS_DATE),'0',2) ;
62818:         WK_DATE = CAST(MER_YEAR(TRANS_DATE) AS CHAR(4)) || RTRIM(PADLEFT(MER_MONTH(TRANS_DATE),2)) || RTRIM(PADLEFT(MER_DAY(TRANS_DATE),2)) ;
62819:         WK_TIME = RTRIM(PADLEFT(MER_HOUR(TRANS_DATE),2)) || RTRIM(PADLEFT(MER_MINUTE(TRANS_DATE),2)) ;
62821:         WK_DATE = MER_YEAR(TRANS_DATE)  || LPAD(MER_MONTH(TRANS_DATE),'0',2) || LPAD(MER_DAY(TRANS_DATE),'0',2) ;
62822:         WK_TIME = LPAD(MER_HOUR(TRANS_DATE),'0',2) || LPAD(MER_MINUTE(TRANS_DATE),'0',2) ;

62829:CREATE TRIGGER ADD_PICK_ORDER_TIME FOR PICK_ORDER 
62892:         WK_DUE_YEAR = MER_YEAR(WK_DUE_DATE);
62893:         WK_DUE_MONTH = MER_MONTH(WK_DUE_DATE);
62895:         WK_DUE_DAY = MER_DAY(WK_DUE_DATE) ;

63266:CREATE TRIGGER ADD_PICK_ORDER_DESPATCH_DATE FOR PICK_ORDER 
63302:            WK_DUE_YEAR = MER_YEAR(WK_DUE_DATE);
63303:            WK_DUE_MONTH = MER_MONTH(WK_DUE_DATE);
63304:            WK_DUE_DAY = MER_DAY(WK_DUE_DATE) - WK_LEADTIME;
63327:            WK_DUE_YEAR = MER_YEAR(WK_DUE_DATE);
63328:            WK_DUE_MONTH = MER_MONTH(WK_DUE_DATE);
63329:            WK_DUE_DAY = MER_DAY(WK_DUE_DATE) - WK_LEADTIME;

63441:CREATE TRIGGER UPDATE_WIP_ORDER_ORDERING FOR PICK_ORDER 
63480:            WK_DATE = CAST(MER_YEAR(TRANS_DATE) AS CHAR(4)) || RTRIM(PADLEFT(MER_MONTH(TRANS_DATE),2)) || RTRIM(PADLEFT(MER_DAY(TRANS_DATE),2)) ;
63481:            WK_TIME = RTRIM(PADLEFT(MER_HOUR(TRANS_DATE),2)) || RTRIM(PADLEFT(MER_MINUTE(TRANS_DATE),2)) ;
63483:            WK_DATE = MER_YEAR(TRANS_DATE)  || LPAD(MER_MONTH(TRANS_DATE),'0',2) || LPAD(MER_DAY(TRANS_DATE),'0',2) ;
63484:            WK_TIME = LPAD(MER_HOUR(TRANS_DATE),'0',2) || LPAD(MER_MINUTE(TRANS_DATE),'0',2) ;
63493:         WK_DATE = CAST(MER_YEAR(TRANS_DATE) AS CHAR(4)) || RTRIM(PADLEFT(MER_MONTH(TRANS_DATE),2)) || RTRIM(PADLEFT(MER_DAY(TRANS_DATE),2)) ;
63494:         WK_TIME = RTRIM(PADLEFT(MER_HOUR(TRANS_DATE),2)) || RTRIM(PADLEFT(MER_MINUTE(TRANS_DATE),2)) ;
63496:         WK_DATE = MER_YEAR(TRANS_DATE)  || LPAD(MER_MONTH(TRANS_DATE),'0',2) || LPAD(MER_DAY(TRANS_DATE),'0',2) ;
63497:         WK_TIME = LPAD(MER_HOUR(TRANS_DATE),'0',2) || LPAD(MER_MINUTE(TRANS_DATE),'0',2) ;

63669:CREATE TRIGGER UPDATE_PICK_ORDER_TIME FOR PICK_ORDER 
63740:         WK_DUE_YEAR = MER_YEAR(WK_DUE_DATE);
63741:         WK_DUE_MONTH = MER_MONTH(WK_DUE_DATE);
63743:         WK_DUE_DAY = MER_DAY(WK_DUE_DATE) ;

64146:CREATE TRIGGER UPD_PICK_ORDER_DESPATCH_DATE FOR PICK_ORDER 
64182:            WK_DUE_YEAR = MER_YEAR(WK_DUE_DATE);
64183:            WK_DUE_MONTH = MER_MONTH(WK_DUE_DATE);
64184:            WK_DUE_DAY = MER_DAY(WK_DUE_DATE) - WK_LEADTIME;
64207:            WK_DUE_YEAR = MER_YEAR(WK_DUE_DATE);
64208:            WK_DUE_MONTH = MER_MONTH(WK_DUE_DATE);
64209:            WK_DUE_DAY = MER_DAY(WK_DUE_DATE) - WK_LEADTIME;

71786:CREATE TRIGGER ADD_PROD_PROFILE_TEMP FOR PROD_PROFILE_TEMP 
72904:               WK_GRND_OBJECT = 'ADD PRODUCTS|' || MER_YEAR('NOW') || LPAD(MER_MONTH('NOW'),'0',2) ||  LPAD(MER_DAY('NOW'),'0',2) ;

78013:CREATE TRIGGER RUN_TRANSACTION_GRNV FOR TRANSACTIONS 
78030:         WK_TRN_DATE = MER_YEAR(NEW.TRN_DATE) || VLPAD(MER_MONTH(NEW.TRN_DATE),'0',2) || VLPAD(MER_DAY(NEW.TRN_DATE),'0',2) || VLPAD(MER_HOUR(NEW.TRN_DATE),'0',2) || VLPAD(MER_MINUTE(NEW.TRN_DATE),'0',2) || VLPAD(SEC(NEW.TRN_DATE),'0',2);

78090:CREATE TRIGGER RUN_TRANSACTION_GRND FOR TRANSACTIONS 
78874:        WK_DATE_X = LPAD(MER_DAY(WK_DATE),'0',2) || '/' || LPAD(MER_MONTH(WK_DATE),'0',2) || '/' || SUBSTR(CAST(MER_YEAR(WK_DATE) AS CHAR(4)) , 3,4);
78875:        WK_TIME = LPAD(MER_HOUR(WK_DATE),'0',2) || ':' || LPAD(MER_MINUTE(WK_DATE),'0',2) ;

79326:CREATE TRIGGER RUN_TRANSACTION_PKAL FOR TRANSACTIONS 
79985:                       WK_T4_TRAN_DATA = WK_T4_TRAN_DATA || '<UpdateDateTime>' || MER_YEAR('NOW') || '-' || LPAD(MER_MONTH('NOW'),'0',2) || '-' || LPAD(MER_DAY('NOW'),'0',2) || 'T' || LPAD(MER_HOUR('NOW'),'0',2) || ':' || LPAD(MER_MINUTE('NOW'),'0',2) || ':' || LPAD(SEC('NOW'),'0',2) || WK_T4_DELIM ;

85480:CREATE TRIGGER RUN_TRANSACTION_PKCA FOR TRANSACTIONS 
85701:              WK_T4_TRAN_DATA = WK_T4_TRAN_DATA || '<UpdateDateTime>' || MER_YEAR('NOW') || '-' || LPAD(MER_MONTH('NOW'),'0',2) || '-' || LPAD(MER_DAY('NOW'),'0',2) || 'T' || LPAD(MER_HOUR('NOW'),'0',2) || ':' || LPAD(MER_MINUTE('NOW'),'0',2) || ':' || LPAD(SEC('NOW'),'0',2) || WK_T4_DELIM ;

86487:CREATE TRIGGER RUN_TRANSACTION_PKCO FOR TRANSACTIONS 
86696:              WK_T4_TRAN_DATA = WK_T4_TRAN_DATA || '<UpdateDateTime>' || MER_YEAR('NOW') || '-' || LPAD(MER_MONTH('NOW'),'0',2) || '-' || LPAD(MER_DAY('NOW'),'0',2) || 'T' || LPAD(MER_HOUR('NOW'),'0',2) || ':' || LPAD(MER_MINUTE('NOW'),'0',2) || ':' || LPAD(SEC('NOW'),'0',2) || WK_T4_DELIM ;

93145:CREATE TRIGGER RUN_TRANSACTION_PLDM FOR TRANSACTIONS 
93182:     WK_DATE_STR = CAST(MER_YEAR(WK_DATE) AS CHAR(4)) ||
93183:        CAST(MER_MONTH(WK_DATE) AS VARCHAR(2)) || 
93184:        CAST(MER_DAY(WK_DATE) AS VARCHAR(2)) || 
93185:        CAST(MER_HOUR(WK_DATE) AS VARCHAR(2)) || 
93186:        CAST(MER_MINUTE(WK_DATE) AS VARCHAR(2)) || 

97843:CREATE TRIGGER RUN_TRANSACTION_PKBS FOR TRANSACTIONS 
97951:            ORDER BY LPAD(MER_DAY(P1.CREATE_DATE),'0',2),LPAD(MER_HOUR(P1.CREATE_DATE),'0',2)  

107022:CREATE TRIGGER RUN_TRANSACTION_DSAS FOR TRANSACTIONS 
107192:        WK_DATE_X = MER_DAY('NOW') || '.' || MER_MONTH('NOW') || '.' || SUBSTR(CAST(MER_YEAR('NOW') AS VARCHAR(4)) , 3,4);
107193:        WK_TIME_X = MER_HOUR('NOW') || '.' || MER_MINUTE('NOW') ;
107320:              WK_PS_DESPATCHED_DATE = MER_YEAR('NOW') ||  LPAD(MER_MONTH('NOW'),'0',2) ||  LPAD(MER_DAY('NOW'),'0',2) ;  
107325:              WK_PS_PICK_ORDER_DATE = MER_YEAR(:WK_PO_CREATE_DATE) ||  LPAD(MER_MONTH(:WK_PO_CREATE_DATE),'0',2) ||  LPAD(MER_DAY(:WK_PO_CREATE_DATE),'0',2) ;  
107345:           WK_PO_EXPORTED_DATE = MER_YEAR('NOW') ||  LPAD(MER_MONTH('NOW'),'0',2) ||  LPAD(MER_DAY('NOW'),'0',2) ;  
107792:           WK_DATE_X = MER_DAY('NOW') || '.' || MER_MONTH('NOW') || '.' || SUBSTR(CAST(MER_YEAR('NOW') AS VARCHAR(4)) , 3,4);
107793:           WK_TIME_X = MER_HOUR('NOW') || '.' || MER_MINUTE('NOW') ;
107895:                 WK_PS_DESPATCHED_DATE = MER_YEAR('NOW') ||  LPAD(MER_MONTH('NOW'),'0',2) ||  LPAD(MER_DAY('NOW'),'0',2) ;  
107900:                 WK_PS_PICK_ORDER_DATE = MER_YEAR(:WK_PO_CREATE_DATE) ||  LPAD(MER_MONTH(:WK_PO_CREATE_DATE),'0',2) ||  LPAD(MER_DAY(:WK_PO_CREATE_DATE),'0',2) ;  
107919:              WK_PO_EXPORTED_DATE = MER_YEAR('NOW') ||  LPAD(MER_MONTH('NOW'),'0',2) ||  LPAD(MER_DAY('NOW'),'0',2) ;  

